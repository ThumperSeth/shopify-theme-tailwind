<section class="jacobs-section">

<div class="carousel">
  <div class="carousel-cell"><img src="{{ product.featured_media | img_url: '1024x1024' }}"></div>
  <div class="carousel-cell"><img src="{{ product.featured_media | img_url: '1024x1024' }}"></div>
  <div class="carousel-cell"><img src="{{ product.featured_media | img_url: '1024x1024' }}"></div>
  <div class="carousel-cell"><img src="{{ product.featured_media | img_url: '1024x1024' }}"></div>
  <div class="carousel-cell"><img src="{{ product.featured_media | img_url: '1024x1024' }}"></div>
</div>
</section>

{% schema %}
  {
    "name": "Jacobs Sandbox",
    "settings": []
  }
{% endschema %}

{% stylesheet %}
.flickity-page-dots .dot {
  	background: {{ section.settings.navigation_color }};
  }
  .flickity-button-icon {
  	color: {{ section.settings.navigation_color }};
  }
{% endstylesheet %}

{% javascript %}

var elem = document.querySelector('.jacobs-section .carousel');
var flkty = new Flickity( elem, {
  contain: true,
  imagesLoaded: true,
  lazyLoad: 6,
  wrapAround: true,
  pageDots: false,
});
{% if request.design_mode %}
  document.addEventListener("shopify:section:load", function(event) {
  var elem = document.querySelector('.jacobs-section .carousel');
   var flkty = new Flickity( elem, {
      contain: true,
      imagesLoaded: true,
      lazyLoad: 6,
      wrapAround: true,
      pageDots: false,
    });
 });
{% endif %}

{% endjavascript %}